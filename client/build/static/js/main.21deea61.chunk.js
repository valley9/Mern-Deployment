(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},55:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),a=c(20),l=c.n(a),o=(c(26),c(27),c(6)),i=c(3),r=c(5),j=c.n(r),p=c(0),d=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){j.a.get("http://localhost:8000/api/pets/all").then((function(e){console.log("***********"),console.log(e),n(e.data.results)})).catch((function(e){return console.log("errors retrieving all things")}))}),[]),Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)("h2",{children:"These pets are looking for a good home"}),c.map((function(e,t){return Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Type"}),Object(p.jsx)("th",{children:"Actions"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.pet_name}),Object(p.jsx)("td",{children:e.pet_type}),Object(p.jsxs)("td",{children:[Object(p.jsx)("button",{children:Object(p.jsx)(i.a,{to:"/api/pets/".concat(e._id),children:"details"})})," | ",Object(p.jsx)("button",{children:Object(p.jsx)(i.a,{to:"/api/pets/update/".concat(e._id),children:"edit"})})]})]})]})}))]})},h=function(e){var t=Object(s.useState)({}),c=Object(o.a)(t,2),n=c[0],a=c[1];return Object(s.useEffect)((function(){j.a.get("http://localhost:8000/api/pets/".concat(e.petid)).then((function(e){console.log("response after retrieving one pet",e),a(e.data.results)})).catch((function(e){return console.log(e)}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{children:["Details about: ",n.pet_name]}),Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h4",{className:"card-title",children:n.pet_name}),Object(p.jsxs)("p",{className:"card-text",children:["Pet Type: ",n.pet_type]}),Object(p.jsxs)("p",{className:"card-text",children:["Description: ",n.pet_desc]}),Object(p.jsxs)("p",{className:"card-text",children:["Skill 1: ",n.pet_skill_1]}),Object(p.jsxs)("p",{className:"card-text",children:["Skill 2: ",n.pet_skill_2]}),Object(p.jsxs)("p",{className:"card-text",children:["Skill 3: ",n.pet_skill_3]}),Object(p.jsxs)("button",{className:"btn-danger",onClick:function(t){j.a.delete("http://localhost:8000/api/pets/delete/".concat(e.petid)).then((function(e){console.log("just sent a delete req"),console.log(e),Object(i.c)("/")})).catch((function(e){return console.log(e)}))},children:["Adopt ",n.pet_name]})]})})]})},b=c(7),m=c(9),u=function(){var e=Object(s.useState)({pet_name:"",pet_type:"",pet_desc:"",pet_skill1:"",pet_skill2:"",pet_skill3:""}),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)([]),l=Object(o.a)(a,2),r=l[0],d=l[1],h=Object(s.useState)([]),u=Object(o.a)(h,2),O=u[0],x=u[1];Object(s.useEffect)((function(){j.a.get("http://localhost:8000/api/pets/all").then((function(e){return x(e.data.results)})).catch((function(e){return console.log("Error: ",e)}))}),[]),console.log(O);var f=O.map((function(e){return e.pet_name})),g=function(e){console.log("change"),n(Object(m.a)(Object(m.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))};console.log(f);return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Know a pet needing a home?"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),!1===f.includes(c.pet_name)?j.a.post("http://localhost:8000/api/pets/create",{formInfo:c}).then((function(e){Object(i.c)("/")})).catch((function(e){for(var t=e.response.data.errors,c=[],s=0,n=Object.keys(t);s<n.length;s++){var a=n[s];c.push(t[a].message)}d(c)})):(r.push("Name is already taken"),Object(i.c)("/api/pets/create"))},className:"col-6 mx-auto",children:[r.map((function(e,t){return Object(p.jsx)("p",{children:e},t)})),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Name: "}),Object(p.jsx)("input",{type:"text",name:"pet_name",id:"",className:"form-control",onChange:g}),Object(p.jsx)("p",{className:"text-danger",children:r.pet_name?r.pet_name.message:""})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Type: "}),Object(p.jsx)("input",{type:"text",name:"pet_type",id:"",className:"form-control",onChange:g}),Object(p.jsx)("p",{className:"text-danger",children:r.pet_type?r.pet_type.message:""})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Description: "}),Object(p.jsx)("input",{type:"text",name:"pet_desc",id:"",className:"form-control",onChange:g}),Object(p.jsx)("p",{className:"text-danger",children:r.pet_desc?r.pet_desc.message:""})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Skills: (optional)"}),Object(p.jsx)("input",{type:"text",name:"pet_skill_1",id:"",className:"form-control",onChange:g})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Skills: (optional)"}),Object(p.jsx)("input",{type:"text",name:"pet_skill_2",id:"",className:"form-control",onChange:g})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Skills: (optional)"}),Object(p.jsx)("input",{type:"text",name:"pet_skill_3",id:"",className:"form-control",onChange:g})]}),Object(p.jsx)("input",{type:"submit",value:"Add Pet"})]})]})},O=function(e){var t=Object(s.useState)({pet_name:"",pet_type:"",pet_desc:"",pet_skills:""}),c=Object(o.a)(t,2),n=c[0],a=c[1];Object(s.useEffect)((function(){j.a.get("http://localhost:8000/api/pets/".concat(e.petid)).then((function(e){console.log(e),a(e.data.results)})).catch()}),[]);var l=Object(s.useState)({}),r=Object(o.a)(l,2),d=r[0],h=r[1],u=function(e){console.log("change"),a(Object(m.a)(Object(m.a)({},n),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h3",{children:["Edit ",e.petid]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Know a pet needing a home?"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.put("http://localhost:8000/api/pets/update/".concat(e.petid),n).then((function(e){console.log(e),e.data.errors?(console.log("Validation errors"),h(e.data.errors)):Object(i.c)("/")})).catch((function(e){return console.log(e)}))},className:"col-6 mx-auto",children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Name: "}),Object(p.jsx)("input",{type:"text",name:"pet_name",id:"",className:"form-control",onChange:u,value:n.pet_name}),Object(p.jsx)("p",{className:"text-danger",children:d.pet_name?"Pet name must be "+d.pet_name.kind:""})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Type: "}),Object(p.jsx)("input",{type:"text",name:"pet_type",id:"",className:"form-control",onChange:u,value:n.pet_type}),Object(p.jsx)("p",{className:"text-danger",children:d.pet_type?d.pet_type.message:""})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Description: "}),Object(p.jsx)("input",{type:"text",name:"pet_desc",id:"",className:"form-control",onChange:u,value:n.pet_desc}),Object(p.jsx)("p",{className:"text-danger",children:d.pet_desc?d.pet_desc.message:""})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Skills: (optional)"}),Object(p.jsx)("input",{type:"text",name:"pet_skills",id:"",className:"form-control",onChange:u,value:n.pet_skill_1})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Skills: (optional)"}),Object(p.jsx)("input",{type:"text",name:"pet_skills",id:"",className:"form-control",onChange:u,value:n.pet_skill_2})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"",children:"Pet Skills: (optional)"}),Object(p.jsx)("input",{type:"text",name:"pet_skills",id:"",className:"form-control",onChange:u,value:n.pet_skill_3})]}),Object(p.jsx)("input",{type:"submit",value:"Add Pet"})]})]})]})};var x=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("button",{children:Object(p.jsx)(i.a,{to:"/",children:"Home"})}),Object(p.jsx)("button",{children:Object(p.jsx)(i.a,{to:"/api/pets/create",children:"Add Pet to Shelter"})}),Object(p.jsxs)("div",{className:"d-flex justify-content-center flex-column",children:[Object(p.jsx)("h1",{children:"Pet Shelter"}),Object(p.jsxs)(i.b,{children:[Object(p.jsx)(d,{path:"/"}),Object(p.jsx)(h,{path:"/api/pets/:petid"}),Object(p.jsx)(u,{path:"/api/pets/create"}),Object(p.jsx)(O,{path:"/api/pets/update/:petid"})]})]})]})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,56)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,l=t.getTTFB;c(e),s(e),n(e),a(e),l(e)}))};l.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(x,{})}),document.getElementById("root")),f()}},[[55,1,2]]]);
//# sourceMappingURL=main.21deea61.chunk.js.map